{"version":3,"file":"circleTool-CoL_gvMJ.js","names":["message: string","line: number","input: string","filePath: string","input: string | InputReader","values: Vector[]","properties: Record<string, GameValue>","objects: GameObject[]","_config: Partial<Config>","result: Array<CircleEntry>","point: {x: number, y: number, z: number}","q: Quaternion","q1: Quaternion","q2: Quaternion","num: number","circle: Array<CircleEntry>","filepath: string","options?: AnalyzeReplayOptions","outputItems: Array<string>"],"sources":["../../../analyze/src/GameConfigParser/errors.ts","../../../analyze/src/GameConfigParser/input-reader.ts","../../../analyze/src/GameConfigParser/parser.ts","../../../analyze/src/generateCircle/generateCircle.ts","../../../analyze/src/generateCircle/generateCircleToString.ts","../../__vite-browser-external","../../../analyze/src/analyzeReplayFs.ts","../../src/circle/circleTool.ts"],"sourcesContent":["export class ParseError extends Error {\r\n  line: number;\r\n    \r\n  constructor(message: string, line: number) {\r\n    super(`Line ${line}: ${message}`);\r\n    this.line = line;\r\n  }\r\n}\r\n","import { ParserPosition } from \"./types\";\r\n\r\nexport class InputReader {\r\n  private input: string;\r\n  pos: number;\r\n  line: number;\r\n\r\n  constructor(input: string) {\r\n    this.input = input;\r\n    this.pos = 0;\r\n    this.line = 1;\r\n  }\r\n\r\n  current(): string | null {\r\n    return this.pos < this.input.length ? this.input[this.pos] : null;\r\n  }\r\n\r\n  advance(): InputReader {\r\n    if (this.current() === \"\\n\") this.line++;\r\n    this.pos++;\r\n    return this;\r\n  }\r\n\r\n  skipWhitespace(): InputReader {\r\n    while (this.current() && /[\\s\\t\\n\\r]/.test(this.current()!)) {\r\n      this.advance();\r\n    }\r\n    return this;\r\n  }\r\n\r\n  getPosition(): ParserPosition {\r\n    return {\r\n      pos: this.pos,\r\n      line: this.line,\r\n      current: this.current(),\r\n    };\r\n  }\r\n\r\n  static async fromFile(filePath: string): Promise<InputReader> {\r\n    // In Node.js:\r\n    // const fs = require('fs');\r\n    // const content = fs.readFileSync(filePath, 'utf8');\r\n    // return new InputReader(content);\r\n\r\n    // For browser:\r\n    const response = await fetch(filePath);\r\n    const content = await response.text();\r\n    return new InputReader(content);\r\n  }\r\n}\r\n","import { GameObject, GameValue, Vector, ParserPosition } from \"./types\";\r\nimport { ParseError } from \"./errors\";\r\nimport { InputReader } from \"./input-reader\";\r\n\r\nexport class GameConfigParser {\r\n  private reader: InputReader;\r\n\r\n  constructor(input: string | InputReader) {\r\n    this.reader = input instanceof InputReader ? input : new InputReader(input);\r\n  }\r\n\r\n  private parseIdentifier(): string {\r\n    let result = \"\";\r\n    while (this.reader.current() && /[a-zA-Z0-9_]/.test(this.reader.current()!)) {\r\n      result += this.reader.current();\r\n      this.reader.advance();\r\n    }\r\n    if (result.length === 0) {\r\n      throw new ParseError(\"Expected identifier\", this.reader.line);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private parseString(): string {\r\n    this.reader.advance(); // Skip opening quote\r\n    let result = \"\";\r\n\r\n    while (this.reader.current() && this.reader.current() !== '\"') {\r\n      result += this.reader.current();\r\n      this.reader.advance();\r\n    }\r\n\r\n    if (this.reader.current() !== '\"') {\r\n      throw new ParseError(\"Unterminated string\", this.reader.line);\r\n    }\r\n\r\n    this.reader.advance(); // Skip closing quote\r\n    return result;\r\n  }\r\n\r\n  private parseVectorContents(): Vector[] {\r\n    const values: Vector[] = [];\r\n    let currentValue = \"\";\r\n\r\n    const pushCurrentValue = () => {\r\n      if (currentValue.trim()) {\r\n        values.push(currentValue.trim());\r\n        currentValue = \"\";\r\n      }\r\n    };\r\n\r\n    while (this.reader.current() && this.reader.current() !== \"}\") {\r\n      if (this.reader.current() === \"{\") {\r\n        this.reader.advance();\r\n        values.push(this.parseVectorContents());\r\n      } else if (this.reader.current() === \",\") {\r\n        pushCurrentValue();\r\n        this.reader.advance();\r\n      } else if (/[\\s\\t\\n\\r]/.test(this.reader.current()!)) {\r\n        pushCurrentValue();\r\n        this.reader.advance();\r\n      } else {\r\n        currentValue += this.reader.current();\r\n        this.reader.advance();\r\n      }\r\n    }\r\n\r\n    pushCurrentValue();\r\n\r\n    if (this.reader.current() === \"}\") {\r\n      this.reader.advance();\r\n    } else {\r\n      throw new ParseError(\"Expected } in vector\", this.reader.line);\r\n    }\r\n\r\n    return values;\r\n  }\r\n\r\n  private parseVector(): Vector {\r\n    this.reader.advance(); // Skip opening brace\r\n    return this.parseVectorContents();\r\n  }\r\n\r\n  private parseValue(): GameValue {\r\n    this.reader.skipWhitespace();\r\n\r\n    if (!this.reader.current()) {\r\n      throw new ParseError(\"Unexpected end of input while parsing value\", this.reader.line);\r\n    }\r\n\r\n    if (this.reader.current() === \"{\") {\r\n      return this.parseVector();\r\n    } else if (this.reader.current() === '\"') {\r\n      return this.parseString();\r\n    } else {\r\n      // Parse until semicolon or whitespace\r\n      let result = \"\";\r\n      while (this.reader.current() && !/[\\s\\t\\n\\r;]/.test(this.reader.current()!)) {\r\n        result += this.reader.current();\r\n        this.reader.advance();\r\n      }\r\n      return result;\r\n    }\r\n  }\r\n\r\n  private parseProperty(): { name: string; value: GameValue } {\r\n    this.reader.skipWhitespace();\r\n\r\n    const name = this.parseIdentifier();\r\n\r\n    this.reader.skipWhitespace();\r\n    if (this.reader.current() !== \"=\") {\r\n      throw new ParseError(`Expected = after property name \"${name}\"`, this.reader.line);\r\n    }\r\n    this.reader.advance();\r\n\r\n    const value = this.parseValue();\r\n\r\n    // Handle optional semicolon\r\n    this.reader.skipWhitespace();\r\n    if (this.reader.current() === \";\") this.reader.advance();\r\n\r\n    return { name, value };\r\n  }\r\n\r\n  private parseObject(): GameObject {\r\n    this.reader.skipWhitespace();\r\n\r\n    const name = this.parseIdentifier();\r\n\r\n    this.reader.skipWhitespace();\r\n    if (this.reader.current() !== \"{\") {\r\n      throw new ParseError(`Expected { after object name \"${name}\"`, this.reader.line);\r\n    }\r\n    this.reader.advance();\r\n\r\n    const properties: Record<string, GameValue> = {};\r\n    while (this.reader.current() && this.reader.current() !== \"}\") {\r\n      const { name: propName, value } = this.parseProperty();\r\n      properties[propName] = value;\r\n      this.reader.skipWhitespace();\r\n    }\r\n\r\n    if (this.reader.current() !== \"}\") {\r\n      throw new ParseError(`Expected } to close object \"${name}\"`, this.reader.line);\r\n    }\r\n    this.reader.advance();\r\n\r\n    // Handle optional semicolon after closing brace\r\n    this.reader.skipWhitespace();\r\n    if (this.reader.current() === \";\") this.reader.advance();\r\n\r\n    return {\r\n      type: name,\r\n      properties,\r\n    };\r\n  }\r\n\r\n  public parse(): GameObject[] {\r\n    const objects: GameObject[] = [];\r\n\r\n    // @ts-expect-error it seems okay to do this\r\n    while (this.reader.pos < this.reader.input.length) {\r\n      this.reader.skipWhitespace();\r\n      if (!this.reader.current()) break;\r\n\r\n      objects.push(this.parseObject());\r\n    }\r\n\r\n    return objects;\r\n  }\r\n\r\n  public getPosition(): ParserPosition {\r\n    return this.reader.getPosition();\r\n  }\r\n}\r\n","import { Quaternion } from \"./types\";\r\n\r\nexport function generateCircle(\r\n  _config: Partial<Config> = {}\r\n): Array<CircleEntry> {\r\n  const config = {\r\n    name: \"Audience_4\",\r\n    count: 10,\r\n    radius: 90,\r\n    uniform_scale: 0.2,\r\n    centerLoc: { x: 248.844, y: -45.5154, z: 1096.15 },\r\n    quat: { w: 1, x: 0, y: 0, z: 0 },\r\n    ..._config\r\n  };\r\n\r\n  const result: Array<CircleEntry> = [];\r\n  \r\n  for (let i = 0; i < config.count; i++) {\r\n    // Position around the circle\r\n    const angle = (i / config.count) * 2 * Math.PI;\r\n    \r\n    // Calculate base position in the XY plane\r\n    const localX = config.radius * Math.cos(angle);\r\n    const localY = config.radius * Math.sin(angle);\r\n    const localZ = 0;\r\n    \r\n    // Apply quaternion rotation to the offset\r\n    // Use the base quaternion to rotate the offset points\r\n    const rotatedOffset = rotatePointByQuaternion(\r\n      { x: localX, y: localY, z: localZ }, \r\n      config.quat\r\n    );\r\n    \r\n    // Calculate the facing quaternion (tangential to circle)\r\n    const facingAngle = angle + Math.PI/2;\r\n    const zRotQuat = {\r\n      w: Math.cos(facingAngle / 2),\r\n      x: 0,\r\n      y: 0,\r\n      z: Math.sin(facingAngle / 2)\r\n    };\r\n    \r\n    // Combine the base quaternion with the facing rotation\r\n    const facingQuat = multiplyQuaternions(config.quat, zRotQuat);\r\n    \r\n    // Round values for precision\r\n    const offset = {\r\n      x: roundZero(roundThousandth(rotatedOffset.x)),\r\n      y: roundZero(roundThousandth(rotatedOffset.y)),\r\n      z: roundZero(roundThousandth(rotatedOffset.z))\r\n    };\r\n    \r\n    const roundedQuat = {\r\n      w: roundZero(facingQuat.w),\r\n      x: roundZero(facingQuat.x),\r\n      y: roundZero(facingQuat.y),\r\n      z: roundZero(facingQuat.z)\r\n    };\r\n    \r\n    result.push({\r\n      name: config.name,\r\n      loc: config.centerLoc,\r\n      uniform_scale: config.uniform_scale,\r\n      quat: roundedQuat,\r\n      offset: offset\r\n    });\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n// Rotate a point using a quaternion\r\nfunction rotatePointByQuaternion(\r\n  point: {x: number, y: number, z: number}, \r\n  q: Quaternion\r\n): {x: number, y: number, z: number} {\r\n  // Convert point to quaternion form (w=0)\r\n  const pointQuat = { w: 0, x: point.x, y: point.y, z: point.z };\r\n  \r\n  // q * point * q^-1\r\n  const qInv = {\r\n    w: q.w,\r\n    x: -q.x,\r\n    y: -q.y,\r\n    z: -q.z\r\n  };\r\n  \r\n  const rotated = multiplyQuaternions(\r\n    multiplyQuaternions(q, pointQuat),\r\n    qInv\r\n  );\r\n  \r\n  return { x: rotated.x, y: rotated.y, z: rotated.z };\r\n}\r\n\r\n// Quaternion multiplication function\r\nfunction multiplyQuaternions(q1: Quaternion, q2: Quaternion): Quaternion {\r\n  return {\r\n    w: q1.w * q2.w - q1.x * q2.x - q1.y * q2.y - q1.z * q2.z,\r\n    x: q1.w * q2.x + q1.x * q2.w + q1.y * q2.z - q1.z * q2.y,\r\n    y: q1.w * q2.y - q1.x * q2.z + q1.y * q2.w + q1.z * q2.x,\r\n    z: q1.w * q2.z + q1.x * q2.y - q1.y * q2.x + q1.z * q2.w\r\n  };\r\n}\r\n\r\n// Round to 3 decimal places (thousandths)\r\nfunction roundThousandth(num: number): number {\r\n  return Math.round(num * 1000) / 1000;\r\n}\r\n\r\n// Round very small values to zero\r\nfunction roundZero(num: number, epsilon = 1e-12): number {\r\n  return Math.abs(num) < epsilon ? 0 : num;\r\n}\r\n\r\nexport interface CircleEntry {\r\n  name: string;\r\n  loc: {x: number, y: number, z: number};\r\n  quat: {w: number, x: number, y: number, z: number};\r\n  offset: {x: number, y: number, z: number};\r\n  uniform_scale: number;\r\n}\r\n\r\ninterface Config {\r\n  name: string;\r\n  count: number;\r\n  radius: number;\r\n  centerLoc: { x: number, y: number, z: number };\r\n  quat: Quaternion;\r\n  uniform_scale: number;\r\n}","import { CircleEntry } from \"./generateCircle\";\r\n\r\nexport function circleToString(circle: Array<CircleEntry>): string {\r\n  return circle.map((entry) => {\r\n    return `${entry.name} {\r\nuniform_scale = ${entry.uniform_scale.toFixed(3)};\r\nloc = {${entry.loc.x}, ${entry.loc.y}, ${entry.loc.z}};\r\nlevel_inclusion_mask = -1;\r\noffset = {${entry.offset.x.toFixed(3)}, ${entry.offset.y.toFixed(3)}, ${entry.offset.z.toFixed(3)}};\r\nquat = {${entry.quat.w.toFixed(6)}, {${entry.quat.x.toFixed(6)}, ${entry.quat.y.toFixed(6)}, ${entry.quat.z.toFixed(6)}}};\r\nmelt_height = 0;\r\n};`}).join(\"\\n\\n\");\r\n}\r\n","module.exports = {}","import { readFile } from \"fs/promises\";\r\nimport { analyzeReplay } from \"./analyzeReplay\";\r\nimport { AnalyzeReplayOptions, AnalyzeResult } from \"./types\";\r\n\r\nexport async function analyzeReplayFile(filepath: string, options?: AnalyzeReplayOptions): Promise<AnalyzeResult> {\r\n  const content = await readFile(filepath);\r\n  return analyzeReplay(new Uint8Array(content), options);\r\n}\r\n","import { GameConfigParser, circleToString, generateCircle } from \"dat-analyze/src/exports\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (): void {\r\n  const generateBtn = document.getElementById(\"generate\") as HTMLButtonElement;\r\n  const copyBtn = document.getElementById(\r\n    \"copyToClipboard\"\r\n  ) as HTMLButtonElement;\r\n  const outputTextarea = document.getElementById(\r\n    \"outputResult\"\r\n  ) as HTMLTextAreaElement;\r\n\r\n  document\r\n    .getElementById(\"themeToggle\")!\r\n    .addEventListener(\"click\", toggleDarkMode);\r\n\r\n  generateBtn.addEventListener(\"click\", handleGenerate);\r\n\r\n  function handleGenerate() {\r\n    const outputStatus = document.getElementById(\"outputStatus\") as HTMLDivElement;\r\n    const selectObjectNameElement = document.getElementById(\r\n      \"selectObjectName\"\r\n    ) as HTMLSelectElement;\r\n\r\n    const selectedObjectName = selectObjectNameElement.value;\r\n\r\n    const radius = (document.getElementById(\"radiusValue\") as HTMLInputElement)\r\n      .value;\r\n    const numObjects = (\r\n      document.getElementById(\"numObjectsValue\") as HTMLInputElement\r\n    ).value;\r\n    const uniformScale = (\r\n      document.getElementById(\"uniformScaleValue\") as HTMLInputElement\r\n    ).value;\r\n\r\n    const inputData = (\r\n      document.getElementById(\"inputObjects\") as HTMLTextAreaElement\r\n    ).value;\r\n\r\n    try {\r\n      const parser = new GameConfigParser(inputData ?? \"\");\r\n      const objects = parser.parse();\r\n  \r\n      const outputItems: Array<string> = [];\r\n      let totalObjects = 0;\r\n      for (const object of objects) {\r\n        const myObject = object.properties as unknown as ObjectProperties;\r\n        const circle = generateCircle({\r\n          name: selectedObjectName,\r\n          radius: parseFloat(radius),\r\n          centerLoc: {x: parseFloat(myObject.loc[0]), y: parseFloat(myObject.loc[1]), z: parseFloat(myObject.loc[2])},\r\n          count: parseInt(numObjects),\r\n          uniform_scale: parseFloat(uniformScale),\r\n          quat: { w: parseFloat(myObject.quat[0]), x: parseFloat(myObject.quat[1][0]), y: parseFloat(myObject.quat[1][1]), z: parseFloat(myObject.quat[1][2])}\r\n        });\r\n        outputItems.push(circleToString(circle));\r\n        totalObjects += circle.length;\r\n      }\r\n      outputTextarea.value = outputItems.join(\"\\n\\n\");\r\n      outputStatus.innerText = `Generated ${totalObjects} objects.`;\r\n    } catch (e) {\r\n      outputStatus.innerText = `Error: ${e}`;\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  copyBtn.addEventListener(\"click\", function (): void {\r\n    outputTextarea.select();\r\n    document.execCommand(\"copy\");\r\n\r\n    const originalText = this.textContent as string;\r\n    this.textContent = \"Copied!\";\r\n    this.classList.add(\"text-green-600\", \"dark:text-green-400\");\r\n\r\n    setTimeout(() => {\r\n      this.textContent = originalText;\r\n      this.classList.remove(\"text-green-600\", \"dark:text-green-400\");\r\n    }, 2000);\r\n  });\r\n});\r\n\r\nfunction toggleDarkMode(): void {\r\n  const html = document.documentElement;\r\n  html.classList.toggle(\"dark\");\r\n  localStorage.setItem(\"darkMode\", html.classList.contains(\"dark\").toString());\r\n}\r\n\r\ninterface ObjectProperties {\r\n  uniform_scale: string;\r\n  loc: [string, string, string];\r\n  quat: [string, [string, string, string]];\r\n}"],"mappings":"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"}