(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();const e=`Unknown Track`,t=[{name:`Check_Point_2`,uniform_scale:1,position:{x:524.914978,y:-72.053261,z:1609.72998},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:469.625,y:-50.83231,z:1613.47998},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:645.16803,y:-831.709106,z:110.084},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:486.019012,y:-535.026123,z:676.150024},quat:{w:.931603,x:0,y:-.363478,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.710999,y:-841.440308,z:97.760902},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.682007,y:-839.661926,z:100.323997},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.471008,y:-839.745483,z:100.343002},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.054993,y:-839.763367,z:100.378998},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:640.877991,y:-841.469482,z:97.952599},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.987976,y:-843.000122,z:95.099403},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:643.051025,y:-844.409241,z:92.487297},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.125,y:-844.462646,z:92.621201},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.103027,y:-843.025818,z:95.214104},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:645.038025,y:-844.440796,z:92.780098},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.825989,y:-843.063599,z:95.252403},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.745972,y:-841.444153,z:97.939796},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Finish_Point`,uniform_scale:1.396,position:{x:620.690979,y:372.30188,z:2564.110107},quat:{w:1,x:0,y:0,z:0}}],n=[{name:`Start_Point`,uniform_scale:1,position:{x:645.16803,y:-831.709106,z:110.084},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.710999,y:-841.440308,z:97.760902},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.682007,y:-839.661926,z:100.323997},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.471008,y:-839.745483,z:100.343002},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.054993,y:-839.763367,z:100.378998},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:640.877991,y:-841.469482,z:97.952599},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.987976,y:-843.000122,z:95.099403},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:643.051025,y:-844.409241,z:92.487297},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.125,y:-844.462646,z:92.621201},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.103027,y:-843.025818,z:95.214104},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:645.038025,y:-844.440796,z:92.780098},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.825989,y:-843.063599,z:95.252403},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.745972,y:-841.444153,z:97.939796},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:1051.060059,y:68.596832,z:1590.109985},quat:{w:.9987,x:0,y:.0509779,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:637.55603,y:-585.382996,z:606.434998},quat:{w:1,x:0,y:0,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:1119.880005,y:543.206604,z:2291.780029},quat:{w:1,x:0,y:0,z:0}}],r=[{name:`Start_Point`,uniform_scale:1,position:{x:645.16803,y:-831.709106,z:110.084},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.710999,y:-841.440308,z:97.760902},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.682007,y:-839.661926,z:100.323997},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.471008,y:-839.745483,z:100.343002},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.054993,y:-839.763367,z:100.378998},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:640.877991,y:-841.469482,z:97.952599},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:642.987976,y:-843.000122,z:95.099403},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:643.051025,y:-844.409241,z:92.487297},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.125,y:-844.462646,z:92.621201},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:641.103027,y:-843.025818,z:95.214104},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:645.038025,y:-844.440796,z:92.780098},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.825989,y:-843.063599,z:95.252403},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:644.745972,y:-841.444153,z:97.939796},quat:{w:.999982,x:0,y:-.00600007,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:608.411011,y:-551.169128,z:654.901001},quat:{w:.996218,x:0,y:.0868903,z:0}},{name:`Finish_Point`,uniform_scale:1.396,position:{x:620.711975,y:372.307526,z:2564.129883},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:718.445007,y:-147.717392,z:1429.160034},quat:{w:.993846,x:0,y:.110772,z:0}}],i=[{name:`Finish_Point`,uniform_scale:1,position:{x:534.888,y:-284.277588,z:2313.639893},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:519.367981,y:-1384.164185,z:99.7817},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:671.789978,y:-631.825745,z:1691.939941},quat:{w:.996721,x:0,y:-.0809115,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:334.958008,y:-701.713623,z:1544.140015},quat:{w:.98965,x:0,y:-.143503,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:259.109985,y:-1044.600708,z:872.73999},quat:{w:.997823,x:0,y:.0659521,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:507.769989,y:-691.222168,z:1560.670044},quat:{w:.990901,x:0,y:.13459,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:512.228027,y:-1066.99585,z:843.586975},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:526.361023,y:-1401.963379,z:52.828701},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:524.234009,y:-1401.888062,z:52.872601},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:521.651001,y:-1401.730713,z:53.207901},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:528.848999,y:-1401.966797,z:52.491501},quat:{w:.999456,x:0,y:-.0329958,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:509.837006,y:-1401.014038,z:55.337502},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:513.203979,y:-1401.264648,z:54.7066},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:516.369995,y:-1401.418091,z:54.133801},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:519.234009,y:-1401.579346,z:53.577999},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1.612,position:{x:412.575012,y:-232.187561,z:-64.914001},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:723.994995,y:-1124.040405,z:702.659973},quat:{w:.964567,x:0,y:.263839,z:0}}],a=[{name:`Check_Point_1`,uniform_scale:1,position:{x:723.994995,y:-1247.439087,z:702.659973},quat:{w:.964567,x:0,y:.263839,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:518.552979,y:-1535.383911,z:99.917},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1.612,position:{x:412.575012,y:-257.285614,z:-64.914001},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:519.234009,y:-1554.089722,z:53.577999},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:516.369995,y:-1553.914795,z:54.133801},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:513.203979,y:-1553.747314,z:54.7066},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:509.837006,y:-1553.481201,z:55.337502},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:528.848999,y:-1554.503784,z:52.491501},quat:{w:.999456,x:0,y:-.0329958,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:521.651001,y:-1554.250122,z:53.207901},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:524.234009,y:-1554.415649,z:52.872601},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:526.361023,y:-1554.492065,z:52.828701},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:512.228027,y:-1185.055298,z:843.586975},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:507.769989,y:-767.855957,z:1560.670044},quat:{w:.990901,x:0,y:.13459,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:259.109985,y:-1160.998779,z:872.73999},quat:{w:.997823,x:0,y:.0659521,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:334.958008,y:-779.157715,z:1544.140015},quat:{w:.98965,x:0,y:-.143503,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:543.77002,y:-304.486206,z:2340.919922},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:671.789978,y:-702.809082,z:1691.939941},quat:{w:.996721,x:0,y:-.0809115,z:0}}],o=[{name:`Check_Point_1`,uniform_scale:1,position:{x:723.994995,y:-1247.439087,z:702.659973},quat:{w:.964567,x:0,y:.263839,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:518.552979,y:-1535.383911,z:99.917},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1.612,position:{x:412.575012,y:-257.285614,z:-64.914001},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:519.234009,y:-1554.089722,z:53.577999},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:516.369995,y:-1553.914795,z:54.133801},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:513.203979,y:-1553.747314,z:54.7066},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:509.837006,y:-1553.481201,z:55.337502},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:528.848999,y:-1554.503784,z:52.491501},quat:{w:.999456,x:0,y:-.0329958,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:521.651001,y:-1554.250122,z:53.207901},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:524.234009,y:-1554.415649,z:52.872601},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:526.361023,y:-1554.492065,z:52.828701},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:512.228027,y:-1185.055298,z:843.586975},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:507.769989,y:-767.855957,z:1560.670044},quat:{w:.990901,x:0,y:.13459,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:259.109985,y:-1160.998779,z:872.73999},quat:{w:.997823,x:0,y:.0659521,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:334.958008,y:-779.157715,z:1544.140015},quat:{w:.98965,x:0,y:-.143503,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:543.77002,y:-304.486206,z:2340.919922},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:671.789978,y:-702.809082,z:1691.939941},quat:{w:.996721,x:0,y:-.0809115,z:0}}],s=[{name:`Player_Start_Location`,uniform_scale:1,position:{x:734.325012,y:-461.033691,z:225.824997},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:732.656006,y:-461.06723,z:225.498001},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:731.10199,y:-461.079224,z:225.306},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:729.349976,y:-461.088135,z:225.104996},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:727.888,y:-461.091522,z:225},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:726.346985,y:-461.093994,z:224.899994},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:724.721008,y:-461.095154,z:224.837006},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:722.926025,y:-461.089417,z:224.729996},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:490.509003,y:-283.806305,z:607.773987},quat:{w:1,x:0,y:0,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:430.776001,y:738.914917,z:2657.77002},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:729.526978,y:-457.720856,z:231.772003},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:432.812012,y:268.643463,z:1832},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:547.317017,y:265.436798,z:1833.48999},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:250,y:271.255768,z:1832},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:130,y:266.659546,z:1832},quat:{w:1,x:0,y:0,z:0}}],c=[{name:`Player_Start_Location`,uniform_scale:1,position:{x:433.334015,y:-513.037354,z:96.240799},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:435.20401,y:-513.162476,z:95.375198},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:437.582001,y:-513.566772,z:94.366997},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:440.243988,y:-513.761963,z:93.888298},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:442.778015,y:-513.983032,z:93.335999},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:248.843994,y:-45.584229,z:1096.150024},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:276.050995,y:-274.875824,z:464.118011},quat:{w:.962966,x:0,y:-.269621,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:439.385986,y:-501.645935,z:114.804001},quat:{w:1,x:0,y:0,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:211.158005,y:292.066498,z:1897.359985},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:449.298004,y:-513.57428,z:94.264702},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:447.554993,y:-513.726257,z:93.949699},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:444.868011,y:-513.97467,z:93.357101},quat:{w:1,x:0,y:0,z:0}}],l=[{name:`Check_Point_1`,uniform_scale:1,position:{x:595.789978,y:-145.276123,z:827.879028},quat:{w:1,x:0,y:0,z:0}},{name:`Start_Point`,uniform_scale:1,position:{x:801,y:-481.165039,z:299.283997},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:852.960022,y:-109.809311,z:847.317993},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:954.27002,y:387.389771,z:1827.089966},quat:{w:.966132,x:0,y:.258047,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:334.089996,y:404.545593,z:1607.920044},quat:{w:1,x:0,y:0,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:605.559998,y:1014.658264,z:2583.449951},quat:{w:.999118,x:0,y:-.0419877,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:562.330017,y:1013.05835,z:2580.01001},quat:{w:1,x:0,y:0,z:0}},{name:`Finish_Point`,uniform_scale:1,position:{x:661.130005,y:1013.058411,z:2589.110107},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:805.97998,y:-484.148041,z:291.459991},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:808.049988,y:-484.111481,z:291.584015},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:799.973999,y:-484.205536,z:290.96701},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:798.021973,y:-484.156891,z:291.47699},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:795.872986,y:-484.126862,z:291.640015},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:793.724976,y:-484.082977,z:291.743011},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:801.661987,y:-484.198792,z:291.009003},quat:{w:1,x:0,y:0,z:0}},{name:`Player_Start_Location`,uniform_scale:1,position:{x:803.802979,y:-484.175079,z:291.208008},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:15,y:314.300995,z:1607.920044},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:1032.959961,y:-148.53656,z:847.317993},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_1`,uniform_scale:1,position:{x:1200,y:-192.438019,z:847.317993},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:1400,y:347.761963,z:1827.089966},quat:{w:1,x:0,y:0,z:0}},{name:`Check_Point_2`,uniform_scale:1,position:{x:1576,y:349.224152,z:1827.089966},quat:{w:1,x:0,y:0,z:0}}];var u={AlpineEasy:t,AlpineHard:n,AlpineMedium:r,ForestEasy:i,ForestHard:a,ForestMedium:o,VillageEasy:s,VillageHard:c,VillageMedium:l};let d;function f(){if(!d){d=[];for(let[e,t]of Object.entries(u))d.push({name:e,entries:t})}return d}function p(e,t){let n=t.x-e.x,r=t.y-e.y,i=t.z-e.z;return Math.sqrt(n*n+r*r+i*i)}function m(e,t){let{normal:n}=e,r=Math.sqrt(n.x*n.x+n.y*n.y+n.z*n.z);if(r<1e-6)return;let i={x:n.x/r,y:n.y/r,z:n.z/r},a={x:t.p2.x-t.p1.x,y:t.p2.y-t.p1.y,z:t.p2.z-t.p1.z},o=i.x*a.x+i.y*a.y+i.z*a.z;if(Math.abs(o)<1e-6)return;let s={x:t.p1.x-e.position.x,y:t.p1.y-e.position.y,z:t.p1.z-e.position.z},c=i.x*s.x+i.y*s.y+i.z*s.z,l=-c/o;if(l<0||l>1)return;let u={x:t.p1.x+l*a.x,y:t.p1.y+l*a.y,z:t.p1.z+l*a.z};return u}function h(e){return{x:2*(e.quat.x*e.quat.z+e.quat.w*e.quat.y),y:2*(e.quat.y*e.quat.z-e.quat.w*e.quat.x),z:1-2*(e.quat.x*e.quat.x+e.quat.y*e.quat.y)}}function g(e){let t=[],n=e.map(e=>({x:e.x,y:e.y,z:e.z})),r=Array(e.length-1).fill(0).map((e,t)=>({p1:n[t],p2:n[t+1]})),i=[`Check_Point_1`,`Check_Point_2`,`Start_Point`,`Finish_Point`];for(let n of f()){let a=n.entries.filter(e=>i.includes(e.name)),o=a.map(e=>({planeName:e.name,plane:{position:e.position,quat:e.quat,normal:h(e)}})),s={name:n.name,collisions:[]};for(let t=0;t<e.length-1;t++){let e=r[t];for(let{planeName:n,plane:r}of o){let i=r.normal.x*(e.p1.x-r.position.x)+r.normal.y*(e.p1.y-r.position.y)+r.normal.z*(e.p1.z-r.position.z),a=r.normal.x*(e.p2.x-r.position.x)+r.normal.y*(e.p2.y-r.position.y)+r.normal.z*(e.p2.z-r.position.z);if(i*a>0)continue;let o=m(r,e);o!==void 0&&s.collisions.push({intersection:o,distance:p(o,r.position),p1:e.p1,p2:e.p2,frame1:t,frame2:t+1,objectName:n,plane:r})}}t.push(s)}return t}const _=90.5,v=2,y=5;function b(e){let t=g(e.coords.rows),n=x(e,t);return{allCollisions:t,levelScores:n}}function x(e,t){let n=[];for(let o of t){var r,i,a;let t=w(o.name,e.coords.rows),s=(r=S(o,`Start_Point`))?.at(0),c=(i=S(o,`Check_Point_1`))?.at(0),l=(a=S(o,`Finish_Point`))?.at(0),u=o.collisions.filter(e=>e.objectName===`Check_Point_2`),d=u.filter(e=>e.distance<=_).filter(e=>!s||s.frame2<=e.frame1).filter(e=>!c||c.frame2<=e.frame1).filter(e=>!l||e.frame2<=l.frame2),f={nearestStartDist:t.dist,startPlaneDiffMs:C(e,s,`Start_Point`),checkpoint1DiffMs:C(e,c,`Check_Point_1`),finishPointDiffMs:C(e,l,`Finish_Point`),checkpoint2Exists:d.length>0,firstValidStartPointCollision:s,firstValidCheckPoint1Collision:c,firstValidFinishPointCollision:l,allCheckPoint2Collisions:u,validCheckPoint2Collisions:d},p=T(f),m=Object.values(p).filter(e=>e).length;n.push({name:o.name,scoreData:f,score:m})}return n=n.sort((e,t)=>t.score-e.score),n}function S(e,t){return e.collisions.filter(e=>e.objectName===t&&e.distance<=_)}function C(e,t,n){if(!t)return;let{crossStartPlusStartDelayMs:r,totalTimeToFinishMs:i,checkpoint1TotalMs:a}=e.timingDataFromHeader;switch(n){case`Start_Point`:return t.frame2*10-r;case`Check_Point_1`:return t.frame2*10-a;case`Finish_Point`:return t.frame2*10-i;default:throw Error(`Unhandled ${n}`)}}function w(e,t){let n=f().filter(t=>t.name===e);if(n.length!==1)throw Error(`Expected to find only one level with levelName: ${e}, found ${n.length}`);let r=n[0].entries,i=r.filter(e=>e.name===`Player_Start_Location`);if(i.length===0)throw Error(`No start locations`);let a=i[0],o={x:t[0].x,y:t[0].y,z:t[0].z};for(let e of i){let t=a.position,n=e.position,r=p(o,t),i=p(o,n);i<r&&(a=e)}let s=a.position,c=p(o,s);return{gameObject:a,pos:s,dist:c}}function T(e){return{hasPlayerStartLocation:e.nearestStartDist<=v,hasStartPlane:e.startPlaneDiffMs!==void 0&&Math.abs(e.startPlaneDiffMs)<=10,hasCheckPoint1:e.checkpoint1DiffMs!==void 0&&Math.abs(e.checkpoint1DiffMs)<=10,hasFinishPoint:e.finishPointDiffMs!==void 0&&Math.abs(e.finishPointDiffMs)<=10,hasCheckPoint2:e.checkpoint2Exists}}function E(e){let t=T(e),n=[];return n.push([`Has Player Start Location ≤${v}m`,{valid:t.hasPlayerStartLocation}]),n.push([`Has Start_Point ≤10ms, ≤${_}m`,{valid:t.hasStartPlane}]),n.push([`Has Check_Point_1 ≤10ms, ≤${_}m`,{valid:t.hasCheckPoint1}]),n.push([`Has Finish_Point ≤10ms, ≤${_}m`,{valid:t.hasFinishPoint}]),n.push([`Has Check_Point_2 ≤${_}m`,{valid:t.hasCheckPoint2}]),n}function D(t,n){let{playerName:r,endNameAddr:i}=O(t),a=k(t,i),o=a.totalTimeToFinishMs-a.crossStartPlusStartDelayMs,s=A(t)*10,c=a.crossStartPlusStartDelayMs-s,l=a.totalRecordingTimeMs-a.totalTimeToFinishMs,u={playerName:r,trackName:e,displayedMs:o,startMs:c,totalMs:o+c,lagBeforeStartMs:s,lagAfterFinishMs:l,recordingMs:a.totalRecordingTimeMs,checkpoint1Ms:a.checkpoint1TotalMs-a.crossStartPlusStartDelayMs,timingDataFromHeader:a,data:t};if(!n?.skipCoords){let e=F(t,a);u.coords=e;let n=b(u);u.trackScoreData=n;let r=n.levelScores[0].score;if(r!==0){let e=n.levelScores.filter(e=>e.score===r).map(e=>e.name).sort();e.length===2&&e[0]===`ForestHard`&&e[1]===`ForestMedium`?u.trackName=`Forest MediumOrHard`:e.length===1?u.trackName=e[0]:u.trackName=`UnknownTrack`}}return u}function O(e){for(let t=24;t<e.length;++t)if(e[t]===0){let n=e.slice(24,t),r=new TextDecoder(`utf-8`).decode(n);return{playerName:r,endNameAddr:t}}throw Error(`Player name not found in replay data`)}function k(e,t){return{totalRecordingTimeMs:10*(e[4]|e[5]<<8),crossStartPlusStartDelayMs:10*(e[t+1]|e[t+2]<<8),checkpoint1TotalMs:10*(e[t+5]|e[t+6]<<8),totalTimeToFinishMs:10*(e[t+9]|e[t+10]<<8)}}function A(e){let t=N(e);for(let n=t,r=1;n<e.length;n+=M,r++)if(!j(e,n,n+M))return r;throw Error(`unreachable`)}function j(e,t,n){for(let r=0;r<M;r++)if(e[t+r]!==e[n+r])return!1;return!0}const M=109;function N(e){let{endNameAddr:t}=O(e);return t+13}function P(e,t){return 1+(e.length-t)/M}function F(e,t){let n=e.slice(e.length-M,M).every(e=>e===0),r={rows:[]},i=new DataView(e.buffer,0),a=N(e),o=P(e,a)-1-(n?1:0),s=t.totalRecordingTimeMs/10;o!==s&&console.warn(`Warning: Expected ${s} coordinate blocks, but got ${o}`);let c=n?e.length-M:e.length;for(let e=a;e<c;e+=M){let t=e+44,n=t+3*4,a=[];for(let e=0;e<3;e++){let t=[];for(let r=0;r<3;r++){let a=n+(e*3+r)*4;t.push(i.getFloat32(a,!0))}a.push(t)}let o={x:i.getFloat32(t,!0),y:i.getFloat32(t+4,!0),z:i.getFloat32(t+2*4,!0),rotation3x3:a};r.rows.push(o)}return r}function I(e,t){let n=N(e),r=n+t*M,i=r+M;if(i>e.length)throw Error(`Block index ${t} is out of bounds`);return e.slice(r,i)}export{y as MAX_SCORE,v as NEAREST_START_POINT_DIST,_ as PLANE_RADIUS,e as UNKNOWN_TRACK,D as analyzeReplay,I as getBlock,E as getScoreBreakdown};
//# sourceMappingURL=analyzeReplay-C_RqDkrL.js.map